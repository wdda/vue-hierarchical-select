!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("vue-hierarchical-select",[],t):"object"==typeof exports?exports["vue-hierarchical-select"]=t():e["vue-hierarchical-select"]=t()}(self,(()=>(()=>{"use strict";var e={283:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(537),r=n.n(o),a=n(645),i=n.n(a)()(r());i.push([e.id,".hierarchical{display:flex}","",{version:3,sources:["webpack://./src/styles/hierarchical-select.scss"],names:[],mappings:"AAAA,cACE,YAAA",sourcesContent:[".hierarchical {\r\n  display: flex;\r\n}"],sourceRoot:""}]);const s=i},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,r,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(o)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);o&&i[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),t.push(u))}},t}},537:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),a="/*# ".concat(r," */"),i=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(i).concat([a]).join("\n")}return[t].join("\n")}},379:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var a={},i=[],s=0;s<e.length;s++){var c=e[s],l=o.base?c[0]+o.base:c[0],u=a[l]||0,d="".concat(l," ").concat(u);a[l]=u+1;var f=n(d),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)t[f].references++,t[f].updater(p);else{var h=r(p,o);o.byIndex=s,t.splice(s,0,{identifier:d,updater:h,references:1})}i.push(d)}return i}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var a=o(e=e||[],r=r||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=n(a[i]);t[s].references--}for(var c=o(e,r),l=0;l<a.length;l++){var u=n(a[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}a=c}}},569:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={id:o,exports:{}};return e[o](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{function e(e,t,n,o,r,a,i,s){var c,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),o&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),i?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},l._ssrRegister=c):r&&(c=s?function(){r.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:r),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:l}}n.r(o),n.d(o,{default:()=>x});const t=e({name:"HierarchicalSelectRecursion",props:["nodes","nodesSelected","name","optionValue","optionName","cssClasses","cssStyles","optionNameDefault","changeSelect","removePreset","transitionName","direction","onlyLast"],mounted:function(){self=this,this.nodesSelected&&this.nodes.forEach((function(e){-1!==self.nodesSelected.indexOf(e[self.optionValue])&&(self.value=e[self.optionValue],self.removePreset(self.value))}))},methods:{setEmitSelect:function(e){this.$emit("select-new-value",e)},change:function(){if(self=this,this.changeSelect){var e="";""!==this.value?e=this.value:void 0!==this.$parent.value&&(e=this.$parent.value),this.changeSelect(e),this.onlyLast&&this.setEmitSelect(e)}}},data:function(){return{value:""}}},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:e.transitionName}},[n("div",{staticClass:"hierarchical",style:{"flex-direction":e.direction}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],class:e.cssClasses,style:e.cssStyles,attrs:{name:e.onlyLast?null:e.name},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.value=t.target.multiple?n:n[0]},e.change]}},[n("option",{attrs:{value:""},domProps:{innerHTML:e._s(e.optionNameDefault)}}),e._v(" "),e._l(e.nodes,(function(t){return n("option",{domProps:{value:t[e.optionValue],innerHTML:e._s(t[e.optionName])}})}))],2),e._v(" "),e._l(e.nodes,(function(t){return void 0!==t.children&&t[e.optionValue]===e.value?[n("hierarchical-select-recursion",{directives:[{name:"show",rawName:"v-show",value:t.children.length,expression:"node.children.length"}],attrs:{nodes:t.children,nodesSelected:e.nodesSelected,name:e.name,"option-value":e.optionValue,"option-name":e.optionName,"css-classes":e.cssClasses,"css-styles":e.cssStyles,"option-name-default":e.optionNameDefault,"change-select":e.changeSelect,removePreset:e.removePreset,"transition-name":e.transitionName,direction:e.direction,"only-last":e.onlyLast},on:{"select-new-value":e.setEmitSelect}})]:e._e()}))],2)])}),[],!1,null,null,null).exports;function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Vue.mixin({methods:{handleRecursionNode:function(e,t){this.handleRecursion(e,"children",t)},handleRecursionComponent:function(e,t){this.handleRecursion(e,"$children",t)},handleRecursion:function(e,t,n){if(n(e),e[t]&&void 0!==e[t]){var o,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw i}}}}(e[t]);try{for(a.s();!(o=a.n()).done;){var i=o.value;this.handleRecursion(i,t,n)}}catch(e){a.e(e)}finally{a.f()}}}}});const a={name:"HierarchicalSelect",components:{HierarchicalSelectRecursion:t},props:{selected:{type:String|Number,default:""},nodes:{type:Array},name:{type:String,default:"name[]"},optionValue:{type:String,default:"id"},optionName:{type:String,default:"name"},optionNameDefault:{type:String,default:"- choice -"},cssClasses:{type:Array|Object,default:function(){return["vue-hierarchical-select"]}},cssStyles:{type:String,default:""},changeSelect:{type:Function,default:function(){}},maxColumnWidth:{type:Number,default:1e4},transitionName:{type:String,default:""},onlyLast:{type:Boolean,default:!1}},methods:{listenDirection:function(){var e=this;this.direction=window.innerWidth>this.maxColumnWidth?"row":"column";var t=window.matchMedia("(min-width:"+this.maxColumnWidth+"px)"),n=function(t){return e.direction=t.matches?"row":"column"};t.addListener(n),this.$once("hook:beforeDestroy",(function(){return t.removeListener(n)}))},onSelected:function(e){this.lastValue=e},removePreset:function(e){this.nodesSelected.splice(this.nodesSelected.indexOf(e),1)}},created:function(){var e=this;self=this;var t=[],n=self.optionValue;if(this.selected)for(var o=0;o<this.nodes.length;o++){var r=this.nodes[o];if(t=[r[n]],this.handleRecursionNode(r,(function(o){-1===t.indexOf(e.selected)&&(void 0===o.children&&o[n]!==e.selected||t.push(o[n]))})),-1!==t.indexOf(this.selected))break}this.nodesSelected=t},mounted:function(){this.lastValue=this.selected,this.listenDirection()},data:function(){return{nodesSelected:null,lastValue:null,direction:""}}};var i=n(379),s=n.n(i),c=n(795),l=n.n(c),u=n(569),d=n.n(u),f=n(565),p=n.n(f),h=n(216),m=n.n(h),v=n(589),y=n.n(v),S=n(283),g={};g.styleTagTransform=y(),g.setAttributes=p(),g.insert=d().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=m(),s()(S.Z,g),S.Z&&S.Z.locals&&S.Z.locals;const b=e(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("hierarchical-select-recursion",{attrs:{nodes:e.nodes,selected:e.selected,nodesSelected:e.nodesSelected,name:e.name,"option-value":e.optionValue,"option-name":e.optionName,"option-name-default":e.optionNameDefault,"css-classes":e.cssClasses,"css-styles":e.cssStyles,"change-select":e.changeSelect,removePreset:e.removePreset,"transition-name":e.transitionName,direction:e.direction,"only-last":e.onlyLast},on:{"select-new-value":e.onSelected}}),e._v(" "),e.onlyLast?n("input",{attrs:{name:e.name,hidden:""},domProps:{value:e.lastValue}}):e._e()],1)}),[],!1,null,null,null).exports;b.install=function(e){e.component(b.name,b)},"undefined"!=typeof window&&window.Vue&&window.Vue.use(b);const x=b})(),o})()));
//# sourceMappingURL=vue-hierarchical-select.js.map